// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Vehicle {
  id                    String        @id @default(cuid())
  vin                   String        @unique
  make                  String
  model                 String
  year                  Int
  color                 String
  engineSize            String        @map("engine_size")
  fuelType              FuelType      @map("fuel_type")
  transmission          Transmission
  mileage               Int
  condition             VehicleCondition
  purchasePrice         Decimal       @map("purchase_price") @db.Decimal(12, 2)
  expectedSellingPrice  Decimal       @map("expected_selling_price") @db.Decimal(12, 2)
  actualSellingPrice    Decimal?      @map("actual_selling_price") @db.Decimal(12, 2)
  arrivalDate           DateTime      @map("arrival_date")
  saleDate              DateTime?     @map("sale_date")
  status                VehicleStatus @default(AVAILABLE)
  location              String
  images                Json?         // Array of image URLs
  documents             Json?         // Array of document URLs
  createdAt             DateTime      @default(now()) @map("created_at")
  updatedAt             DateTime      @updatedAt @map("updated_at")

  // Relations
  // expenses              VehicleExpense[]
  // bondRents             BondRent[]
  // sale                  Sale?
  // vehicleGPS            VehicleGPS?
  // gpsLocations          GPSLocation[]
  // geofenceAlerts        GeofenceAlert[]

  @@map("vehicles")
}

enum FuelType {
  PETROL
  DIESEL
  HYBRID
  ELECTRIC
}
enum Transmission {
  MANUAL
  AUTOMATIC
}

enum VehicleCondition {
  NEW
  USED
  REFURBISHED
}

enum VehicleStatus {
  AVAILABLE
  RESERVED
  SOLD
  MAINTENANCE
}